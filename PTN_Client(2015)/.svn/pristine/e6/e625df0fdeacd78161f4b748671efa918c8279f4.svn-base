<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.nms.db.dao.equipment.shelf.SiteInstMapper">
  <resultMap id="BaseResultMap" type="SiteInst">
    <id column="site_inst_id" jdbcType="INTEGER" property="siteInstId" />
    <result column="site_Hum_id" jdbcType="VARCHAR" property="siteHumId" />
    <result column="CellDescribe" jdbcType="VARCHAR" property="celldescribe" />
    <result column="CellId" jdbcType="VARCHAR" property="cellid" />
    <result column="CellType" jdbcType="VARCHAR" property="celltype" />
    <result column="CellEditon" jdbcType="VARCHAR" property="cellediton" />
    <result column="CellIcccode" jdbcType="VARCHAR" property="cellicccode" />
    <result column="CellTPoam" jdbcType="VARCHAR" property="celltpoam" />
    <result column="CellTimeZone" jdbcType="VARCHAR" property="celltimezone" />
    <result column="CellTime" jdbcType="VARCHAR" property="celltime" />
    <result column="CellTimeServer" jdbcType="VARCHAR" property="celltimeserver" />
    <result column="CellIdentifier" jdbcType="VARCHAR" property="cellidentifier" />
    <result column="FieldID" jdbcType="INTEGER" property="fieldid" />
    <result column="SiteX" jdbcType="INTEGER" property="sitex" />
    <result column="SiteY" jdbcType="INTEGER" property="sitey" />
    <result column="Type" jdbcType="INTEGER" property="type" />
    <result column="Swich" jdbcType="VARCHAR" property="swich" />
    <result column="username" jdbcType="VARCHAR" property="username" />
    <result column="userpwd" jdbcType="VARCHAR" property="userpwd" />
    <result column="loginstatus" jdbcType="INTEGER" property="loginstatus" />
    <result column="versions" jdbcType="VARCHAR" property="versions" />
    <result column="isGateway" jdbcType="INTEGER" property="isgateway" />
    <result column="manufacturer" jdbcType="INTEGER" property="manufacturer" />
    <result column="siteType" jdbcType="VARCHAR" property="sitetype" />
    <result column="createTime" jdbcType="VARCHAR" property="createtime" />
    <result column="isCreateDiscardFlow" jdbcType="INTEGER" property="iscreatediscardflow" />
    <result column="createUser" jdbcType="VARCHAR" property="createuser" />
    <result column="location" jdbcType="VARCHAR" property="location" />
    <result column="alarmReversalModel" jdbcType="INTEGER" property="alarmreversalmodel" />
    <result column="sn" jdbcType="VARCHAR" property="sn" />
    <result column="rootIP" jdbcType="VARCHAR" property="rootip" />
    <result column="isAlarmReversal" jdbcType="INTEGER" property="isalarmreversal" />
    <result column="isDelayAlarmTrap" jdbcType="INTEGER" property="isdelayalarmtrap" />
    <result column="delayTime" jdbcType="VARCHAR" property="delaytime" />
    <result column="rack" jdbcType="INTEGER" property="rack" />
    <result column="shelf" jdbcType="INTEGER" property="shelf" />
    <result column="hardversion" jdbcType="VARCHAR" property="hardversion" />		
    <result column="rebootTime" jdbcType="BIGINT" property="reboottime" />
  </resultMap>
  <sql id="Base_Column_List" >
    site_inst_id, site_Hum_id, CellDescribe, CellId, CellType, CellEditon, CellIcccode, 
    CellTPoam, CellTimeZone, CellTime, CellTimeServer, CellIdentifier, FieldID, SiteX, 
    SiteY, Type, Swich, username, userpwd, loginstatus, versions, isGateway, manufacturer, 
    siteType, createTime, isCreateDiscardFlow, createUser, location, alarmReversalModel, 
    sn, rootIP, isAlarmReversal, isDelayAlarmTrap, delayTime, rack, shelf, hardversion, 
    rebootTime
  </sql>
  <select id="selectByPrimaryKey" resultType="SiteInst" parameterType="java.lang.Integer" >
    select 
    <include refid="Base_Column_List" />
    from site_inst
    where site_inst_id = #{siteInstId,jdbcType=INTEGER}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer" >
    delete from site_inst
    where site_inst_id = #{siteInstId,jdbcType=INTEGER}
  </delete>

  <insert id="insertSelective" parameterType="SiteInst" >
    insert into site_inst
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="siteInstId != null" >
        site_inst_id,
      </if>
      <if test="siteHumId != null" >
        site_Hum_id,
      </if>
      <if test="celldescribe != null" >
        CellDescribe,
      </if>
      <if test="cellid != null" >
        CellId,
      </if>
      <if test="celltype != null" >
        CellType,
      </if>
      <if test="cellediton != null" >
        CellEditon,
      </if>
      <if test="cellicccode != null" >
        CellIcccode,
      </if>
      <if test="celltpoam != null" >
        CellTPoam,
      </if>
      <if test="celltimezone != null" >
        CellTimeZone,
      </if>
      <if test="celltime != null" >
        CellTime,
      </if>
      <if test="celltimeserver != null" >
        CellTimeServer,
      </if>
      <if test="cellidentifier != null" >
        CellIdentifier,
      </if>
      <if test="fieldid != null" >
        FieldID,
      </if>
      <if test="sitex != null" >
        SiteX,
      </if>
      <if test="sitey != null" >
        SiteY,
      </if>
      <if test="type != null" >
        Type,
      </if>
      <if test="swich != null" >
        Swich,
      </if>
      <if test="username != null" >
        username,
      </if>
      <if test="userpwd != null" >
        userpwd,
      </if>
      <if test="loginstatus != null" >
        loginstatus,
      </if>
      <if test="versions != null" >
        versions,
      </if>
      <if test="isgateway != null" >
        isGateway,
      </if>
      <if test="manufacturer != null" >
        manufacturer,
      </if>
      <if test="sitetype != null" >
        siteType,
      </if>
      <if test="createtime != null" >
        createTime,
      </if>
      <if test="iscreatediscardflow != null" >
        isCreateDiscardFlow,
      </if>
      <if test="createuser != null" >
        createUser,
      </if>
      <if test="location != null" >
        location,
      </if>
      <if test="alarmreversalmodel != null" >
        alarmReversalModel,
      </if>
      <if test="sn != null" >
        sn,
      </if>
      <if test="rootip != null" >
        rootIP,
      </if>
      <if test="isalarmreversal != null" >
        isAlarmReversal,
      </if>
      <if test="isdelayalarmtrap != null" >
        isDelayAlarmTrap,
      </if>
      <if test="delaytime != null" >
        delayTime,
      </if>
      <if test="rack != null" >
        rack,
      </if>
      <if test="shelf != null" >
        shelf,
      </if>
      <if test="hardversion != null" >
        hardversion,
      </if>
      <if test="reboottime != null" >
        rebootTime,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="siteInstId != null" >
        #{siteInstId,jdbcType=INTEGER},
      </if>
      <if test="siteHumId != null" >
        #{siteHumId,jdbcType=VARCHAR},
      </if>
      <if test="celldescribe != null" >
        #{celldescribe,jdbcType=VARCHAR},
      </if>
      <if test="cellid != null" >
        #{cellid,jdbcType=VARCHAR},
      </if>
      <if test="celltype != null" >
        #{celltype,jdbcType=VARCHAR},
      </if>
      <if test="cellediton != null" >
        #{cellediton,jdbcType=VARCHAR},
      </if>
      <if test="cellicccode != null" >
        #{cellicccode,jdbcType=VARCHAR},
      </if>
      <if test="celltpoam != null" >
        #{celltpoam,jdbcType=VARCHAR},
      </if>
      <if test="celltimezone != null" >
        #{celltimezone,jdbcType=VARCHAR},
      </if>
      <if test="celltime != null" >
        #{celltime,jdbcType=VARCHAR},
      </if>
      <if test="celltimeserver != null" >
        #{celltimeserver,jdbcType=VARCHAR},
      </if>
      <if test="cellidentifier != null" >
        #{cellidentifier,jdbcType=VARCHAR},
      </if>
      <if test="fieldid != null" >
        #{fieldid,jdbcType=INTEGER},
      </if>
      <if test="sitex != null" >
        #{sitex,jdbcType=INTEGER},
      </if>
      <if test="sitey != null" >
        #{sitey,jdbcType=INTEGER},
      </if>
      <if test="type != null" >
        #{type,jdbcType=INTEGER},
      </if>
      <if test="swich != null" >
        #{swich,jdbcType=VARCHAR},
      </if>
      <if test="username != null" >
        #{username,jdbcType=VARCHAR},
      </if>
      <if test="userpwd != null" >
        #{userpwd,jdbcType=VARCHAR},
      </if>
      <if test="loginstatus != null" >
        #{loginstatus,jdbcType=INTEGER},
      </if>
      <if test="versions != null" >
        #{versions,jdbcType=VARCHAR},
      </if>
      <if test="isgateway != null" >
        #{isgateway,jdbcType=INTEGER},
      </if>
      <if test="manufacturer != null" >
        #{manufacturer,jdbcType=INTEGER},
      </if>
      <if test="sitetype != null" >
        #{sitetype,jdbcType=VARCHAR},
      </if>
      <if test="createtime != null" >
        #{createtime,jdbcType=VARCHAR},
      </if>
      <if test="iscreatediscardflow != null" >
        #{iscreatediscardflow,jdbcType=INTEGER},
      </if>
      <if test="createuser != null" >
        #{createuser,jdbcType=VARCHAR},
      </if>
      <if test="location != null" >
        #{location,jdbcType=VARCHAR},
      </if>
      <if test="alarmreversalmodel != null" >
        #{alarmreversalmodel,jdbcType=INTEGER},
      </if>
      <if test="sn != null" >
        #{sn,jdbcType=VARCHAR},
      </if>
      <if test="rootip != null" >
        #{rootip,jdbcType=VARCHAR},
      </if>
      <if test="isalarmreversal != null" >
        #{isalarmreversal,jdbcType=INTEGER},
      </if>
      <if test="isdelayalarmtrap != null" >
        #{isdelayalarmtrap,jdbcType=INTEGER},
      </if>
      <if test="delaytime != null" >
        #{delaytime,jdbcType=VARCHAR},
      </if>
      <if test="rack != null" >
        #{rack,jdbcType=INTEGER},
      </if>
      <if test="shelf != null" >
        #{shelf,jdbcType=INTEGER},
      </if>
      <if test="hardversion != null" >
        #{hardversion,jdbcType=VARCHAR},
      </if>
      <if test="reboottime != null" >
        #{reboottime,jdbcType=BIGINT},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="SiteInst" >
    update site_inst
    <set >
      <if test="siteHumId != null" >
        site_Hum_id = #{siteHumId,jdbcType=VARCHAR},
      </if>
      <if test="celldescribe != null" >
        CellDescribe = #{celldescribe,jdbcType=VARCHAR},
      </if>
      <if test="cellid != null" >
        CellId = #{cellid,jdbcType=VARCHAR},
      </if>
      <if test="celltype != null" >
        CellType = #{celltype,jdbcType=VARCHAR},
      </if>
      <if test="cellediton != null" >
        CellEditon = #{cellediton,jdbcType=VARCHAR},
      </if>
      <if test="cellicccode != null" >
        CellIcccode = #{cellicccode,jdbcType=VARCHAR},
      </if>
      <if test="celltpoam != null" >
        CellTPoam = #{celltpoam,jdbcType=VARCHAR},
      </if>
      <if test="celltimezone != null" >
        CellTimeZone = #{celltimezone,jdbcType=VARCHAR},
      </if>
      <if test="celltime != null" >
        CellTime = #{celltime,jdbcType=VARCHAR},
      </if>
      <if test="celltimeserver != null" >
        CellTimeServer = #{celltimeserver,jdbcType=VARCHAR},
      </if>
      <if test="cellidentifier != null" >
        CellIdentifier = #{cellidentifier,jdbcType=VARCHAR},
      </if>
      <if test="fieldid != null" >
        FieldID = #{fieldid,jdbcType=INTEGER},
      </if>
      <if test="sitex != null" >
        SiteX = #{sitex,jdbcType=INTEGER},
      </if>
      <if test="sitey != null" >
        SiteY = #{sitey,jdbcType=INTEGER},
      </if>
      <if test="type != null" >
        Type = #{type,jdbcType=INTEGER},
      </if>
      <if test="swich != null" >
        Swich = #{swich,jdbcType=VARCHAR},
      </if>
      <if test="username != null" >
        username = #{username,jdbcType=VARCHAR},
      </if>
      <if test="userpwd != null" >
        userpwd = #{userpwd,jdbcType=VARCHAR},
      </if>
      <if test="loginstatus != null" >
        loginstatus = #{loginstatus,jdbcType=INTEGER},
      </if>
      <if test="versions != null" >
        versions = #{versions,jdbcType=VARCHAR},
      </if>
      <if test="isgateway != null" >
        isGateway = #{isgateway,jdbcType=INTEGER},
      </if>
      <if test="manufacturer != null" >
        manufacturer = #{manufacturer,jdbcType=INTEGER},
      </if>
      <if test="sitetype != null" >
        siteType = #{sitetype,jdbcType=VARCHAR},
      </if>
      <if test="createtime != null" >
        createTime = #{createtime,jdbcType=VARCHAR},
      </if>
      <if test="iscreatediscardflow != null" >
        isCreateDiscardFlow = #{iscreatediscardflow,jdbcType=INTEGER},
      </if>
      <if test="createuser != null" >
        createUser = #{createuser,jdbcType=VARCHAR},
      </if>
      <if test="location != null" >
        location = #{location,jdbcType=VARCHAR},
      </if>
      <if test="alarmreversalmodel != null" >
        alarmReversalModel = #{alarmreversalmodel,jdbcType=INTEGER},
      </if>
      <if test="sn != null" >
        sn = #{sn,jdbcType=VARCHAR},
      </if>
      <if test="rootip != null" >
        rootIP = #{rootip,jdbcType=VARCHAR},
      </if>
      <if test="isalarmreversal != null" >
        isAlarmReversal = #{isalarmreversal,jdbcType=INTEGER},
      </if>
      <if test="isdelayalarmtrap != null" >
        isDelayAlarmTrap = #{isdelayalarmtrap,jdbcType=INTEGER},
      </if>
      <if test="delaytime != null" >
        delayTime = #{delaytime,jdbcType=VARCHAR},
      </if>
      <if test="rack != null" >
        rack = #{rack,jdbcType=INTEGER},
      </if>
      <if test="shelf != null" >
        shelf = #{shelf,jdbcType=INTEGER},
      </if>
      <if test="hardversion != null" >
        hardversion = #{hardversion,jdbcType=VARCHAR},
      </if>
      <if test="reboottime != null" >
        rebootTime = #{reboottime,jdbcType=BIGINT},
      </if>
    </set>
    where site_inst_id = #{siteInstId,jdbcType=INTEGER}
  </update>
  <update id="updateByPrimaryKey" parameterType="SiteInst" >
    update site_inst
    set site_Hum_id = #{siteHumId,jdbcType=VARCHAR},
      CellDescribe = #{celldescribe,jdbcType=VARCHAR},
      CellId = #{cellid,jdbcType=VARCHAR},
      CellType = #{celltype,jdbcType=VARCHAR},
      CellEditon = #{cellediton,jdbcType=VARCHAR},
      CellIcccode = #{cellicccode,jdbcType=VARCHAR},
      CellTPoam = #{celltpoam,jdbcType=VARCHAR},
      CellTimeZone = #{celltimezone,jdbcType=VARCHAR},
      CellTime = #{celltime,jdbcType=VARCHAR},
      CellTimeServer = #{celltimeserver,jdbcType=VARCHAR},
      CellIdentifier = #{cellidentifier,jdbcType=VARCHAR},
      FieldID = #{fieldid,jdbcType=INTEGER},
      SiteX = #{sitex,jdbcType=INTEGER},
      SiteY = #{sitey,jdbcType=INTEGER},
      Type = #{type,jdbcType=INTEGER},
      Swich = #{swich,jdbcType=VARCHAR},
      username = #{username,jdbcType=VARCHAR},
      userpwd = #{userpwd,jdbcType=VARCHAR},
      loginstatus = #{loginstatus,jdbcType=INTEGER},
      versions = #{versions,jdbcType=VARCHAR},
      isGateway = #{isgateway,jdbcType=INTEGER},
      manufacturer = #{manufacturer,jdbcType=INTEGER},
      siteType = #{sitetype,jdbcType=VARCHAR},
      createTime = #{createtime,jdbcType=VARCHAR},
      isCreateDiscardFlow = #{iscreatediscardflow,jdbcType=INTEGER},
      createUser = #{createuser,jdbcType=VARCHAR},
      location = #{location,jdbcType=VARCHAR},
      alarmReversalModel = #{alarmreversalmodel,jdbcType=INTEGER},
      sn = #{sn,jdbcType=VARCHAR},
      rootIP = #{rootip,jdbcType=VARCHAR},
      isAlarmReversal = #{isalarmreversal,jdbcType=INTEGER},
      isDelayAlarmTrap = #{isdelayalarmtrap,jdbcType=INTEGER},
      delayTime = #{delaytime,jdbcType=VARCHAR},
      rack = #{rack,jdbcType=INTEGER},
      shelf = #{shelf,jdbcType=INTEGER},
      hardversion = #{hardversion,jdbcType=VARCHAR},
      rebootTime = #{reboottime,jdbcType=BIGINT}
    where site_inst_id = #{siteInstId,jdbcType=INTEGER}
  </update>
  
  
    <select id="selectFieldIsSingle" parameterType="Field" resultType="java.lang.Integer">
       select count(*) count from site_inst where fieldId =#{field.id}
    </select>
    
    <select id="queryByFields" resultType="SiteInst">
       select
       <include refid="Base_Column_List" />
       from site_inst where FieldID in 
       <foreach item="item" index="index" collection="list" open="(" separator= ", " close=" )">
        #{fieldList}
       </foreach>   
    </select>
   
    <select id="queryByIsMsite"  resultType="SiteInst">
       select
       <include refid="Base_Column_List" />
       from site_inst where isGateway=1
    </select> 
    
    <select id="queryBySn" parameterType="java.lang.String" resultType="SiteInst">   
       select
       <include refid="Base_Column_List" />
       from site_inst where sn=#{sn}
    </select> 
    
    <select id="queryWHByCondition"  resultType="SiteInst">   
       select
       <include refid="Base_Column_List" />
       from site_inst where loginstatus=1 and  manufacturer=0
    </select> 
    
    
    <select id="queryByCondition" resultType="SiteInst" parameterType="SiteInst">   
     select
     <include refid="Base_Column_List" />
     from site_inst 
    <where>
      1=1
    <if test="siteInst.Site_Inst_Id>0 ">
         and site_inst_id=#{siteInst.Site_Inst_Id}   
    </if>
    <if test="siteInst.Site_Hum_Id !=null and siteInst.Site_Hum_Id !='' ">
         and site_Hum_id=#{siteInst.Site_Hum_Id}
    </if>
    <if test="siteInst.CellId !=null and siteInst.CellId !='' ">
    and CellId=#{siteInst.CellId}   
    </if>
    <if test="siteInst.FieldID>0 ">
         and FieldID=#{siteInst.FieldID}   
    </if>
    <if test="siteInst.CellDescribe !=null and siteInst.CellDescribe !='' ">
         and CellDescribe=#{siteInst.CellDescribe}
    </if>
    <if test="siteInst.loginstatus>0 ">
         and loginstatus=#{siteInst.loginstatus}   
    </if>
    <if test="siteInst.isGateway>0 ">
         and isGateway=#{siteInst.isGateway}   
    </if>
     <if test="siteInst.sn !=null and siteInst.sn !='' ">
         and sn=#{siteInst.sn}
    </if>
    </where>
    </select> 
 
     <select id="queryByNeaddress" resultType="SiteInst">   
       select
       <include refid="Base_Column_List" />
       from site_inst 
       <where> 
        1=1
        <if test="siteInst.Site_Hum_Id !=null and siteInst.Site_Hum_Id !='' and siteInst.Site_Hum_Id !='0' ">
         and site_inst.site_Hum_id=#{siteInst.Site_Hum_Id}
        </if>
        <if test="siteInst.FieldID > 0 ">
         AND (FieldID =(SELECT id FROM field WHERE groupId =#{siteInst.FieldID}) 
         or FieldID in 
         (select id from field WHERE parentid = (select id from field WHERE groupId =#{siteInst.FieldID})))
       </if>         
       </where>
    </select> 
     
   <select id="queryByLogin" resultType="SiteInst" parameterType="java.lang.Integer">   
     select
     <include refid="Base_Column_List" />
      from site_inst where loginstatus=#{loginState}
   </select> 
   
   <update id="updateLoginStatusByIp" parameterType="map">   
     update site_inst set loginstatus=#{loginStatus} where CellDescribe=#{ip}
   </update> 
   
    <select id="queryNeStatus" resultType="java.lang.Integer" parameterType="java.lang.Integer">   
     select
     <include refid="Base_Column_List" />
      from site_inst where site_inst_id=#{siteId}
   </select>
   
   <update id="update" parameterType="SiteInst">   
      update site_inst
      set site_Hum_id = #{siteInst.Site_Hum_Id,jdbcType=VARCHAR},
      CellDescribe = #{siteInst.CellDescribe,jdbcType=VARCHAR},
      CellId = #{siteInst.CellId,jdbcType=VARCHAR},
      CellType = #{siteInst.CellType,jdbcType=VARCHAR},
      CellEditon = #{siteInst.CellEditon,jdbcType=VARCHAR},
      CellIcccode = #{siteInst.CellIcccode,jdbcType=VARCHAR},
      CellTPoam = #{siteInst.CellTPoam,jdbcType=VARCHAR},
      CellTimeZone = #{siteInst.CellTimeZone,jdbcType=VARCHAR},
      CellTime = #{siteInst.CellTime,jdbcType=VARCHAR},
      CellTimeServer = #{siteInst.CellTimeServer,jdbcType=VARCHAR},
      CellIdentifier = #{siteInst.CellIdentifier,jdbcType=VARCHAR},
      FieldID = #{siteInst.FieldID,jdbcType=INTEGER},
      SiteX = #{siteInst.SiteX,jdbcType=INTEGER},
      SiteY = #{siteInst.SiteY,jdbcType=INTEGER},
      Type = #{siteInst.type,jdbcType=INTEGER},
      Swich = #{siteInst.swich,jdbcType=VARCHAR},
      username = #{siteInst.username,jdbcType=VARCHAR},
      userpwd = #{siteInst.userpwd,jdbcType=VARCHAR},
      loginstatus = #{siteInst.loginstatus,jdbcType=INTEGER},
      versions = #{siteInst.versions,jdbcType=VARCHAR},
      isGateway = #{siteInst.isGateway,jdbcType=INTEGER},
      manufacturer = #{siteInst.manufacturer,jdbcType=INTEGER},
      siteType = #{siteInst.siteType,jdbcType=VARCHAR},
      createTime = #{siteInst.createTime,jdbcType=VARCHAR},
      isCreateDiscardFlow = #{siteInst.isCreateDiscardFlow,jdbcType=INTEGER},
      createUser = #{siteInst.createUser,jdbcType=VARCHAR},
      location = #{siteInst.location,jdbcType=VARCHAR},
      alarmReversalModel = #{siteInst.alarmReversalModel,jdbcType=INTEGER},
      sn = #{siteInst.sn,jdbcType=VARCHAR},
      rootIP = #{siteInst.rootIP,jdbcType=VARCHAR},
      isAlarmReversal = #{siteInst.isAlarmReversal,jdbcType=INTEGER},
      isDelayAlarmTrap = #{siteInst.isDelayAlarmTrap,jdbcType=INTEGER},
      delayTime = #{siteInst.delayTime,jdbcType=VARCHAR},
      rack = #{siteInst.rack,jdbcType=INTEGER},
      shelf = #{siteInst.shelf,jdbcType=INTEGER},
      hardversion = #{siteInst.cardNumber,jdbcType=VARCHAR},
      rebootTime = #{siteInst.rbootTime,jdbcType=BIGINT}
      where site_inst_id=#{siteInst.Site_Inst_Id}
   </update> 
   
    <select id="queryByhumId" resultType="java.lang.Integer" parameterType="java.lang.Integer">   
    select FieldID from site_inst where site_Hum_id=#{humId}
   </select>
   
   <select id="queryBySiteCount" resultType="SiteInst" >   
     select count(s.CellType) count,createtime,site_inst_id,Site_Hum_Id,CellDescribe ,
     CellId,CellType,CellEditon,CellIcccode,CellTPoam,CellTimeZone,CellTime,CellTimeServer,
     CellIdentifier,FieldID,SiteX,SiteY,Type,Swich,username,userpwd,loginstatus,versions,isGateway ,
     siteType ,manufacturer,isCreateDiscardFlow ,createUser ,location,sn ,
     rootIP,alarmReversalModel,isAlarmReversal,isDelayAlarmTrap,delayTime ,
     rack,shelf ,rebootTime from  site_inst s group by s.CellType
   </select>
   
    <select id="queryByRootSite" resultType="SiteInst" parameterType="UserInst">   
     select
       <include refid="Base_Column_List" />
       from site_inst
       <if test="userInst.isAll ==0 ">
       where FieldID in(select id from field where netWorkId in(select field_id FROM user_field where user_id =#{userInst.User_Id}))
       </if>
   </select>
   <delete id="delete" parameterType="java.lang.Integer" >
    delete from site_inst
    where site_inst_id = #{siteId,jdbcType=INTEGER}
  </delete> 
  
   <insert id="insert" parameterType="SiteInst" >
   insert into site_inst
    <trim prefix="(" suffix=")" suffixOverrides="," >
    Site_Inst_Id,Site_Hum_Id,CellDescribe,CellId,CellType,CellEditon,CellIcccode,
   CellTPoam,CellTimeZone,CellTime,CellTimeServer,CellIdentifier,FieldID , 
   SiteX , SiteY,Type,Swich,username,userpwd,loginstatus,isGateway ,siteType,
   manufacturer,versions,createTime,isCreateDiscardFlow,createUser,location,
   alarmReversalModel,sn,rootIP,isAlarmReversal,isDelayAlarmTrap,delayTime,rack,shelf,rebootTime,hardversion 
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
   #{siteInst.Site_Inst_Id},#{siteInst.Site_Hum_Id,jdbcType=VARCHAR},#{siteInst.CellDescribe,jdbcType=VARCHAR},
   #{siteInst.CellId,jdbcType=VARCHAR},#{siteInst.CellType,jdbcType=VARCHAR},#{siteInst.CellEditon,jdbcType=VARCHAR},
   #{siteInst.CellIcccode,jdbcType=VARCHAR},#{siteInst.CellTPoam,jdbcType=VARCHAR},#{siteInst.CellTimeZone,jdbcType=VARCHAR},
   #{siteInst.CellTime,jdbcType=VARCHAR},#{siteInst.CellTimeServer,jdbcType=VARCHAR},#{siteInst.CellIdentifier,jdbcType=VARCHAR},
   #{siteInst.FieldID,jdbcType=INTEGER},#{siteInst.SiteX,jdbcType=INTEGER},#{siteInst.SiteY,jdbcType=INTEGER},
   #{siteInst.type,jdbcType=INTEGER},#{siteInst.swich,jdbcType=VARCHAR},#{siteInst.username,jdbcType=VARCHAR},
   #{siteInst.userpwd,jdbcType=VARCHAR},#{siteInst.loginstatus,jdbcType=INTEGER},#{siteInst.isGateway,jdbcType=INTEGER},
   #{siteInst.siteType,jdbcType=VARCHAR},#{siteInst.manufacturer,jdbcType=INTEGER},#{siteInst.versions},#{siteInst.createTime,jdbcType=VARCHAR},
   #{siteInst.isCreateDiscardFlow,jdbcType=INTEGER},#{siteInst.createUser,jdbcType=VARCHAR},#{siteInst.location},
   #{siteInst.alarmReversalModel,jdbcType=INTEGER},#{siteInst.sn,jdbcType=VARCHAR},#{siteInst.rootIP,jdbcType=VARCHAR},
   #{siteInst.isAlarmReversal,jdbcType=INTEGER},#{siteInst.isDelayAlarmTrap,jdbcType=INTEGER},#{siteInst.delayTime,jdbcType=VARCHAR},
   #{siteInst.rack,jdbcType=INTEGER},#{siteInst.shelf,jdbcType=INTEGER},#{siteInst.rbootTime,jdbcType=BIGINT},#{siteInst.cardNumber,jdbcType=VARCHAR}
</trim>
  </insert>
</mapper>