<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.nms.db.dao.ptn.oam.OamMepInfoMapper" >
	
  <resultMap id="BaseResultMap" type="com.nms.db.bean.ptn.oam.OamMepInfo" >
    <id column="id" property="id" jdbcType="INTEGER" />
    <result column="serviceId" property="serviceId" jdbcType="INTEGER" />
    <result column="siteId" property="siteId" jdbcType="INTEGER" />
    <result column="objType" property="objType" jdbcType="VARCHAR" />
    <result column="objId" property="objId" jdbcType="INTEGER" />
    <result column="megIcc" property="megicc" jdbcType="VARCHAR" />
    <result column="megUmc" property="megumc" jdbcType="VARCHAR" />
    <result column="mel" property="mel" jdbcType="INTEGER" />
    <result column="reserve1" property="reserve1" jdbcType="INTEGER" />
    <result column="reserve2" property="reserve2" jdbcType="INTEGER" />
    <result column="localMepId" property="localmepid" jdbcType="INTEGER" />
    <result column="remoteMepId" property="remotemepid" jdbcType="INTEGER" />
    <result column="lpbOutTime" property="lpbouttime" jdbcType="DOUBLE" />
    <result column="targetMacAdd" property="targetmacadd" jdbcType="VARCHAR" />
    <result column="lck" property="lck" jdbcType="INTEGER" />
    <result column="lm" property="lm" jdbcType="INTEGER" />
    <result column="lmCycle" property="lmcycle" jdbcType="INTEGER" />
    <result column="lmReserve1" property="lmreserve1" jdbcType="INTEGER" />
    <result column="dm" property="dm" jdbcType="INTEGER" />
    <result column="dmCycle" property="dmcycle" jdbcType="INTEGER" />
    <result column="dmReserve1" property="dmreserve1" jdbcType="INTEGER" />
    <result column="reserve3" property="reserve3" jdbcType="INTEGER" />
    <result column="reserve4" property="reserve4" jdbcType="INTEGER" />
    <result column="reserve5" property="reserve5" jdbcType="INTEGER" />
    <result column="cv" property="cv" jdbcType="INTEGER" />
    <result column="cvCycle" property="cvcycle" jdbcType="INTEGER" />
    <result column="cvReserve1" property="cvreserve1" jdbcType="INTEGER" />
    <result column="aps" property="aps" jdbcType="INTEGER" />
    <result column="ssm" property="ssm" jdbcType="INTEGER" />
    <result column="sccTest" property="scctest" jdbcType="INTEGER" />
    <result column="fdi" property="fdi" jdbcType="INTEGER" />
    <result column="ringEnable" property="ringenable" jdbcType="INTEGER" />
    <result column="ringCycle" property="ringcycle" jdbcType="INTEGER" />
    <result column="ringTestWay" property="ringtestway" jdbcType="INTEGER" />
    <result column="offLineTestTLV" property="offlinetesttlv" jdbcType="INTEGER" />
    <result column="ringTLVLength" property="ringtlvlength" jdbcType="INTEGER" />
    <result column="ringTLVInfo" property="ringtlvinfo" jdbcType="INTEGER" />
    <result column="tstEnable" property="tstenable" jdbcType="INTEGER" />
    <result column="tstCycle" property="tstcycle" jdbcType="INTEGER" />
    <result column="tstTLVType" property="tsttlvtype" jdbcType="INTEGER" />
    <result column="tstTLVLength" property="tsttlvlength" jdbcType="INTEGER" />
    <result column="lspTc" property="lsptc" jdbcType="INTEGER" />
    <result column="csfEnable" property="csfenable" jdbcType="INTEGER" />
    <result column="pwTc" property="pwtc" jdbcType="INTEGER" />
    <result column="megid" property="megid" jdbcType="INTEGER" />
    <result column="ltEXP" property="ltexp" jdbcType="INTEGER" />
    <result column="ltTTL" property="ltttl" jdbcType="INTEGER" />
    <result column="ltEnable" property="ltenable" jdbcType="INTEGER" />
    <result column="lbTTL" property="lbttl" jdbcType="INTEGER" />
    <result column="vlanEnable" property="vlanenable" jdbcType="INTEGER" />
    <result column="outVlanValue" property="outvlanvalue" jdbcType="INTEGER" />
    <result column="tpId" property="tpid" jdbcType="INTEGER" />
    <result column="sourceMac" property="sourcemac" jdbcType="VARCHAR" />
    <result column="endMac" property="endmac" jdbcType="VARCHAR" />
    <result column="oamEnable" property="oamenable" jdbcType="INTEGER" />
  </resultMap>
  <sql id="Base_Column_List" >
    id, serviceId, siteId, objType, objId, megIcc, megUmc, mel, reserve1, reserve2, localMepId, 
    remoteMepId, lpbOutTime, targetMacAdd, lck, lm, lmCycle, lmReserve1, dm, dmCycle, 
    dmReserve1, reserve3, reserve4, reserve5, cv, cvCycle, cvReserve1, aps, ssm, sccTest, 
    fdi, ringEnable, ringCycle, ringTestWay, offLineTestTLV, ringTLVLength, ringTLVInfo, 
    tstEnable, tstCycle, tstTLVType, tstTLVLength, lspTc, csfEnable, pwTc, megid, ltEXP, 
    ltTTL, ltEnable, lbTTL, vlanEnable, outVlanValue, tpId, sourceMac, endMac, oamEnable
  </sql>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer" >
    delete from oammepinfo
    where id = #{id,jdbcType=INTEGER}
  </delete>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Integer" >
    select 
    <include refid="Base_Column_List" />
    from oammepinfo
    where id = #{id,jdbcType=INTEGER}
  </select>
  <select id="existByObjIdAndType" resultType="OamMepInfo" parameterType="OamMepInfo" >
    select 
    <include refid="Base_Column_List" />
    from oammepinfo
    where objId = #{id,jdbcType=INTEGER} and objType= #{objType,jdbcType=VARCHAR}
  </select>
  <select id="queryMepByCondition" resultType="OamMepInfo" parameterType="OamMepInfo">
 	 select 
 	 <include refid="Base_Column_List" />
 	  from oamMepInfo where 1=1
 	 <if test="siteId > 0">
 		and siteId = #{siteId}
 	 </if>
 	 <if test="objId > 0">
 	 	and objId = #{objId}
 	 </if>
 	 <if test="serviceId > 0">
 	 	and serviceId = #{serviceId}
 	 </if>
 	 <if test="id > 0">
 	 	and Id = #{id}
 	 </if>
 	 <if test="objType != null and objType != ''">
 	 	and ObjType = #{objType}
 	 </if>
  </select>
  
  <update id="updateMepById" parameterType="OamMepInfo">
  	update oammepinfo set objId=#{objId} where id=#{id}
  </update>
  
  <delete id="delete" parameterType="OamMepInfo" >
    delete from oammepinfo
    where ObjType = #{id,jdbcType=INTEGER} and serviceId = #{serviceId}
  </delete>
  
  <select id="queryMepByTypeAndSiteId" resultType="OamMepInfo" parameterType="OamMepInfo">
 	 select * from oamMepInfo where siteId = #{siteId} and ObjType = #{objType}
  </select>
  
  <select id="queryMepByServiceId" resultType="OamMepInfo" parameterType="OamMepInfo">
 	 select 
 	  <include refid="Base_Column_List" />
 	  from oamMepInfo where 1=1 
 	 <if test="oamMepInfo.siteId > 0">
 		and siteId = #{oamMepInfo.siteId}
     </if>  	 
 	 <if test="oamMepInfo.objType != null and oamMepInfo.objType != ''">
 	 	and ObjType = #{oamMepInfo.objType}
 	 </if> 	
 	 <if test="oamMepInfo.serviceId > 0">
 	 	and serviceId = #{oamMepInfo.serviceId}
 	 </if> 	
  </select>
  
  <select id="queryMepByMegId" resultType="OamMepInfo" >
 	 select * from oamMepInfo where megIcc = #{0} and megUmc = #{1}
  </select>
  
  <update id="update_mep_objid" parameterType="hashmap">
  	update oamMepInfo set objId=#{objId} where siteId = #{siteId} and serviceId = #{serviceId} and ObjType = #{objtype}
  </update>
  
  <select id="queryMepByObjIdAndType" resultType="OamMepInfo" >
 	 select * from oamMepInfo where objId = #{0} and ObjType = #{1}
  </select>
  
  <select id="selectByOamMepInfo" resultType="OamMepInfo" parameterType="OamMepInfo">
 	 select * from oamMepInfo where objId = #{objId} and ObjType = #{objType} and lck = #{lck} 
  </select>
  
</mapper>