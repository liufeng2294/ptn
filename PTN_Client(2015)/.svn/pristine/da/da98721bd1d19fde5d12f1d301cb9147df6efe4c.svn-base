<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.nms.db.dao.alarm.HisAlarmInfoMapper" >
  <resultMap id="BaseResultMap" type="HisAlarmInfo" >
    <id column="id" property="id" jdbcType="INTEGER" />
    <result column="siteid" property="siteid" jdbcType="INTEGER" />
    <result column="slotId" property="slotid" jdbcType="INTEGER" />
    <result column="objectid" property="objectid" jdbcType="INTEGER" />
    <result column="objecttype" property="objecttype" jdbcType="INTEGER" />
    <result column="objectname" property="objectname" jdbcType="VARCHAR" />
    <result column="alarmcode" property="alarmcode" jdbcType="INTEGER" />
    <result column="alarmlevel" property="alarmlevel" jdbcType="INTEGER" />
    <result column="happenedtime" property="happenedtime" jdbcType="VARCHAR" />
    <result column="confirmtime" property="confirmtime" jdbcType="VARCHAR" />
    <result column="clearedtime" property="clearedtime" jdbcType="VARCHAR" />
    <result column="ackuser" property="ackuser" jdbcType="VARCHAR" />
    <result column="comments" property="comments" jdbcType="VARCHAR" />
    <result column="alarmlevel_temp" property="alarmlevelTemp" jdbcType="INTEGER" />
    <result column="isCleared" property="iscleared" jdbcType="INTEGER" />
    <result column="alarmID" property="alarmid" jdbcType="INTEGER" />
  </resultMap>
  <sql id="Base_Column_List" >
    id, siteid, slotId, objectid, objecttype, objectname, alarmcode, alarmlevel, happenedtime, 
    confirmtime, clearedtime, ackuser, comments, alarmlevel_temp, isCleared, alarmID
  </sql>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Integer" >
    select 
    <include refid="Base_Column_List" />
    from history_alarm
    where id = #{id,jdbcType=INTEGER}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer" >
    delete from history_alarm
    where id = #{id,jdbcType=INTEGER}
  </delete>
  <insert id="insert" parameterType="HisAlarmInfo" useGeneratedKeys="true" keyProperty="id" > 
    insert into 
    history_alarm
    (siteid,slotId,objectid,objecttype,objectname ,alarmcode,alarmlevel,happenedtime,
    confirmtime,clearedtime,ackuser,comments,alarmlevel_temp,isCleared,alarmId)
    values(#{siteId},#{slotId},#{objectId},#{objectType_db},#{objectName},#{alarmCode},
    #{alarmLevel},#{happenedtime},#{confirmtime},#{cleanTime},#{ackUser},#{commonts},#{warningLevel_temp},
    #{isClear},#{alarmId})
  </insert>
  <insert id="insertSelective" parameterType="HisAlarmInfo" >
    insert into history_alarm
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        id,
      </if>
      <if test="siteid != null" >
        siteid,
      </if>
      <if test="slotid != null" >
        slotId,
      </if>
      <if test="objectid != null" >
        objectid,
      </if>
      <if test="objecttype != null" >
        objecttype,
      </if>
      <if test="objectname != null" >
        objectname,
      </if>
      <if test="alarmcode != null" >
        alarmcode,
      </if>
      <if test="alarmlevel != null" >
        alarmlevel,
      </if>
      <if test="happenedtime != null" >
        happenedtime,
      </if>
      <if test="confirmtime != null" >
        confirmtime,
      </if>
      <if test="clearedtime != null" >
        clearedtime,
      </if>
      <if test="ackuser != null" >
        ackuser,
      </if>
      <if test="comments != null" >
        comments,
      </if>
      <if test="alarmlevelTemp != null" >
        alarmlevel_temp,
      </if>
      <if test="iscleared != null" >
        isCleared,
      </if>
      <if test="alarmid != null" >
        alarmID,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        #{id,jdbcType=INTEGER},
      </if>
      <if test="siteid != null" >
        #{siteid,jdbcType=INTEGER},
      </if>
      <if test="slotid != null" >
        #{slotid,jdbcType=INTEGER},
      </if>
      <if test="objectid != null" >
        #{objectid,jdbcType=INTEGER},
      </if>
      <if test="objecttype != null" >
        #{objecttype,jdbcType=INTEGER},
      </if>
      <if test="objectname != null" >
        #{objectname,jdbcType=VARCHAR},
      </if>
      <if test="alarmcode != null" >
        #{alarmcode,jdbcType=INTEGER},
      </if>
      <if test="alarmlevel != null" >
        #{alarmlevel,jdbcType=INTEGER},
      </if>
      <if test="happenedtime != null" >
        #{happenedtime,jdbcType=VARCHAR},
      </if>
      <if test="confirmtime != null" >
        #{confirmtime,jdbcType=VARCHAR},
      </if>
      <if test="clearedtime != null" >
        #{clearedtime,jdbcType=VARCHAR},
      </if>
      <if test="ackuser != null" >
        #{ackuser,jdbcType=VARCHAR},
      </if>
      <if test="comments != null" >
        #{comments,jdbcType=VARCHAR},
      </if>
      <if test="alarmlevelTemp != null" >
        #{alarmlevelTemp,jdbcType=INTEGER},
      </if>
      <if test="iscleared != null" >
        #{iscleared,jdbcType=INTEGER},
      </if>
      <if test="alarmid != null" >
        #{alarmid,jdbcType=INTEGER},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="HisAlarmInfo" >
    update history_alarm
    <set >
      <if test="siteid != null" >
        siteid = #{siteid,jdbcType=INTEGER},
      </if>
      <if test="slotid != null" >
        slotId = #{slotid,jdbcType=INTEGER},
      </if>
      <if test="objectid != null" >
        objectid = #{objectid,jdbcType=INTEGER},
      </if>
      <if test="objecttype != null" >
        objecttype = #{objecttype,jdbcType=INTEGER},
      </if>
      <if test="objectname != null" >
        objectname = #{objectname,jdbcType=VARCHAR},
      </if>
      <if test="alarmcode != null" >
        alarmcode = #{alarmcode,jdbcType=INTEGER},
      </if>
      <if test="alarmlevel != null" >
        alarmlevel = #{alarmlevel,jdbcType=INTEGER},
      </if>
      <if test="happenedtime != null" >
        happenedtime = #{happenedtime,jdbcType=VARCHAR},
      </if>
      <if test="confirmtime != null" >
        confirmtime = #{confirmtime,jdbcType=VARCHAR},
      </if>
      <if test="clearedtime != null" >
        clearedtime = #{clearedtime,jdbcType=VARCHAR},
      </if>
      <if test="ackuser != null" >
        ackuser = #{ackuser,jdbcType=VARCHAR},
      </if>
      <if test="comments != null" >
        comments = #{comments,jdbcType=VARCHAR},
      </if>
      <if test="alarmlevelTemp != null" >
        alarmlevel_temp = #{alarmlevelTemp,jdbcType=INTEGER},
      </if>
      <if test="iscleared != null" >
        isCleared = #{iscleared,jdbcType=INTEGER},
      </if>
      <if test="alarmid != null" >
        alarmID = #{alarmid,jdbcType=INTEGER},
      </if>
    </set>
    where id = #{id,jdbcType=INTEGER}
  </update>
  <update id="updateByPrimaryKey" parameterType="HisAlarmInfo" >
    update history_alarm
    set siteid = #{siteid,jdbcType=INTEGER},
      slotId = #{slotid,jdbcType=INTEGER},
      objectid = #{objectid,jdbcType=INTEGER},
      objecttype = #{objecttype,jdbcType=INTEGER},
      objectname = #{objectname,jdbcType=VARCHAR},
      alarmcode = #{alarmcode,jdbcType=INTEGER},
      alarmlevel = #{alarmlevel,jdbcType=INTEGER},
      happenedtime = #{happenedtime,jdbcType=VARCHAR},
      confirmtime = #{confirmtime,jdbcType=VARCHAR},
      clearedtime = #{clearedtime,jdbcType=VARCHAR},
      ackuser = #{ackuser,jdbcType=VARCHAR},
      comments = #{comments,jdbcType=VARCHAR},
      alarmlevel_temp = #{alarmlevelTemp,jdbcType=INTEGER},
      isCleared = #{iscleared,jdbcType=INTEGER},
      alarmID = #{alarmid,jdbcType=INTEGER}
    where id = #{id,jdbcType=INTEGER}
  </update>
  
  <update id="updateObjectid" >
		update history_alarm set objectid = #{0} where objecttype =#{2} and objectid in #{1}
  </update>
  
  
</mapper>