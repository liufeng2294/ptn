package com.nms.model.system.user;

import java.sql.Connection;
import java.util.List;

import com.nms.db.bean.system.LoginManager;
import com.nms.db.dao.system.user.LoginManagerDao;
import com.nms.model.util.ObjectService;
import com.nms.ui.manager.ExceptionManage;

public class LoginManagerService extends ObjectService{
	
	private LoginManagerDao loginManagerDao=new LoginManagerDao();
	
	

	public void setConnection(Connection connection) throws Exception {
		super.connection = connection;
	}

	public void setPtnuser(String ptnuser) {
		super.ptnuser = ptnuser;
	}
	/**
	 * 查询redesign表的数据
	 * @param loginManger 
	 * @param loginlog
	 * @throws Exception
	 */

	public List<LoginManager> select(LoginManager loginmanger)  throws Exception{
		// TODO Auto-generated method stub
		List<LoginManager> loginmanagerList = null;
		//LoginManager loginmanager = new LoginManager();
		
		try {
			loginmanagerList = loginManagerDao.queryByidCondition(loginmanger, connection);
			
			
		} catch (Exception e) {
			// TODO Auto-generated catch block
			ExceptionManage.dispose(e,this.getClass());
		}
		return loginmanagerList;
	}

	public void delete(int id)  throws Exception{
		// TODO Auto-generated method stub
		try {
			loginManagerDao.delete(id, connection);
		} catch (Exception e) {
			ExceptionManage.dispose(e,this.getClass());
		}
	}

	public int saveOrUpdate(LoginManager loginManager,int result)  throws Exception{
		// TODO Auto-generated method stub
		int re = 0;
		if (loginManager == null) {
			throw new Exception("loginManager is null");
		}
      
    	 
    	   if(result==0){
			re = loginManagerDao.insert(loginManager,connection);
	
    
    	   }else{
    		   re = loginManagerDao.update(loginManager,connection);
    		
    		   
    	   }

		
		return re;
	}

	


}
